**Description of Python Modules :**
**1. Population Module :** This function processes and prepares demographic, geospatial, and mortality data for further analysis and visualization. It integrates several key steps to clean, aggregate, and merge data from multiple input sources and outputs a structured dataset in the form of geospatially enabled files.
**2. SHERPA Module :** This script processes geographic and air pollution data to generate GeoDataFrames of concentration metrics for a given pollutant and year, based on a specified scenario. It validates inputs, reshapes data, filters values using masks, and uses pollutant-specific netCDF files to map concentrations and their changes. Results are presented as spatial data points with associated coordinates, enabling further analysis or export as shapefiles.
**3. INERIS Module :** This function processes annual pollutant concentration data from INERIS for a given geographic area and pollutant type. It standardizes pollutant names, validates file paths, and extracts latitude, longitude, and concentration values from netCDF files. These values are reshaped and converted into a GeoDataFrame with spatial coordinates, facilitating geographic visualization and analysis of pollutant concentrations across France.
**4. ASSOCIATION Module :** 1. _generate_points():_ Creates grid points within a given polygon and associates them with concentration points. It validates the polygon geometry, filters concentration points that fall within the polygon, and assigns an iriscod (identifier) to link the points with the polygon. 2 . _calculate_perc():_ Computes the percentage of intersection between predefined grid rectangles and polygons based on their area overlap. This process assigns a perc (percentage) value to grid points by calculating the intersection area as a fraction of the polygon's total area, filtering out grid points with no significant intersection. This helps refine spatial data accuracy.
**5. CORRECTION Module :** Correction process for adjusting concentration values in a geographic dataset. It leverages parallel processing to enhance computational efficiency and applies proximity-based corrections using nearest neighbor modeling. This function updates the concentration values (conc) and deltas (delta_conc) for data points based on their relationship to nearby reference points, while maintaining a robust error-handling mechanism to ensure smooth execution.
**6.EXPO Module:** This script focuses on processing and calculating exposure metrics for spatial data in a parallelized and optimized manner. By leveraging tools such as cKDTree for efficient spatial indexing and multiprocessing.Pool for parallel data handling, it ensures faster computation. The main function computes mean values of concentration (meanconc) and deltas (meandelta) for geographic subsets grouped by specific identifiers. It integrates robust error handling, logging, and weighted averages for precise and scalable geospatial analysis.
**7.MORTALITY analysis Module :** This module calculates and analyzes air pollution's health impacts, particularly mortality reduction and life years gained, based on changes in pollutant concentration. It defines relative risks (RR) for pollutants, calculates mean and population-weighted exposure metrics, and determines adjusted mortality rates by considering pollutant reduction scenarios. Additionally, it evaluates life expectancy improvements at different ages and provides a detailed breakdown of mortality and health gains across age groups for specific years and pollutants.
**8.PLOT Module :** This module facilitates geospatial visualization and analysis by offering robust tools for managing and plotting data. It includes functions to read shapefiles, align coordinate reference systems (CRS), export data, and generate detailed maps for population distribution, exposure levels, and polygon characteristics. It supports customization of map visuals using various plotting options, such as histograms and geographic overlays, ensuring clarity and precision. Additionally, the module employs validation measures for data and CRS compatibility, enhancing reliability in spatial data representation.
